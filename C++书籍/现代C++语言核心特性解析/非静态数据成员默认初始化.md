# C++11之前-使用初始化列表初始化

```C++
class X {
public:
  X() : a_(0), b_(0.), c_("hello world") {}
  X(int a) : a_(a), b_(0.), c_("hello world") {}
  X(double b) : a_(0), b_(b), c_("hello world") {}
  X(const std::string &c) : a_(0), b_(0.), c_(c) {}

private:
  int a_;
  double b_;
  std::string c_;
};
```



# 默认初始化（C++11）

在==声明==非静态数据成员的==同时直接对其使用=或者{}初始化==。

```C++
class X {
public:
  X() {}
  X(int a) : a_(a) {}
  X(double b) : b_(b) {}
  X(const std::string &c) : c_(c) {}

private:
  int a_ = 0;
  double b_{ 0. };
  std::string c_{ "hello world" };
};
```



需要注意的两个问题

1. 不要使用括号()对非静态数据成员进行初始化，因为这样会造成解析问题，所以会编译错误。
2. 不要用auto来声明和初始化非静态数据成员，虽然这一点看起来合理，但是C++并不允许这么做。



# 位域的默认初始化（C++20）

在C++20中我们可以对数据成员的位域进行默认初始化了，例如：

```C++
struct  S {
  int y : 8 = 11;
  int z : 4 {7};
};
```

在上面的代码中，int数据的低8位被初始化为11，紧跟它的高4位被初始化为7。



