# Demo-Helloworld

# Hello World Demo

```C++
#include <QApplication>
#include <QLabel>

int main(int argc, char *argv[])
{
    QApplication a(argc, argv);

    QLabel* label = new QLabel("hello,world!!!!!!");
    label->show();

    return a.exec();
}	// æ³¨æ„ï¼š labelå¯¹è±¡å¹¶æœªè¢«deleteï¼Œç”±æ“ä½œç³»ç»Ÿåœ¨ç¨‹åºç»“æŸåè¿›è¡Œå›æ”¶ã€‚
```

è¯´æ˜ï¼š

- QApplicationå¯¹è±¡ï¼š

  ç”¨äºç®¡ç†<u>åº”ç”¨ç¨‹åºçº§åˆ«</u>çš„èµ„æºã€‚

  > ä¸€èˆ¬ç”¨æ³•å›ºå®šï¼š
  >
  > ä»¥mainæ–¹æ³•æ¥æ”¶çš„å‚æ•°åˆ›å»ºQApplicationå¯¹è±¡aï¼Œå¹¶å°†a.exec()ä½œä¸ºmainæ–¹æ³•è¿”å›å€¼

- QLabelå¯¹è±¡ï¼š

  ç”¨äºæ˜¾ç¤ºæ–‡æœ¬å†…å®¹ã€‚

  > åœ¨Qtä¸­ï¼ŒWidgetæ˜¯æ‰€æœ‰ç»„ä»¶çš„çˆ¶ç±»ï¼Œåœ¨widgetä¸­å¯ä»¥æ”¾ç½®å…¶ä»–çš„widgetå¯¹è±¡ã€‚
  >
  > > ä¸€èˆ¬Qtç¨‹åºçš„é¡¶çº§ç»„ä»¶ï¼š
  > >
  > > - QMainWindowï¼š
  > >
  > >   å…·æœ‰ä¸»èœå•æ ã€å·¥å…·æ å’ŒçŠ¶æ€æ ï¼Œç±»ä¼¼äºä¸€èˆ¬çš„åº”ç”¨ç¨‹åºçš„ä¸»çª—å£
  > >
  > > - QDialogï¼š
  > >
  > >   å¯¹è¯æ¡†ç±»ï¼Œå¯å»ºç«‹ä¸€ä¸ªåŸºäºå¯¹è¯æ¡†çš„ç•Œé¢



> ğŸ’¡**åœ¨Qtä¸­ï¼Œç»„ä»¶åˆ›å»ºå‡ºæ¥ä¹‹åé€šå¸¸æ˜¯ä¸å¯è§çš„**ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®å¯è§ã€‚
>
> ```C++
> label->show();
> ```





# Demo-æŸ¥æ‰¾å¯¹è¯æ¡†

> åˆ›å»ºå·¥ç¨‹æ—¶ï¼ŒBase Classé€‰æ‹©QDialogï¼Œæ— éœ€formã€‚



æ•ˆæœå›¾ï¼š
![image-20220709004144809](æ¡ˆä¾‹.assets/image-20220709004144809.png)





FindDialog.hå¦‚ä¸‹ï¼š

```C++
#ifndef FIND_DIALOG_H
#define FIND_DIALOG_H

#include <QDialog>
class QCheckBox;
class QLabel;
class QLineEdit;
class QPushButton;

class FindDialog : public QDialog
{
    Q_OBJECT

public:
    FindDialog(QWidget* parent=0);
    ~FindDialog();

signals:
    void findNext(const QString& str, Qt::CaseSensitivity cs);
    void findPrevious(const QString& str, Qt::CaseSensitivity cs);

private slots:
    void findClicked();
    void enableFindButton(const QString& text);

private:
    QLabel* label;
    QLineEdit* lineEdit;
    QCheckBox* caseCheckBox;
    QCheckBox* backwardCheckBox;
    QPushButton* findButton;
    QPushButton* closeButton;
};
#endif // FIND_DIALOG_H
```

è¯´æ˜ï¼š

- Q_OBJECTï¼š

  ä¸€ä¸ªå®ã€‚å‡¡æ˜¯å®šä¹‰ä¿¡å·æ§½çš„ç±»ï¼Œéƒ½å¿…é¡»å£°æ˜è¿™ä¸ªå®ã€‚

- signalsï¼š

  >ä¸ºQtçš„å…³é”®å­—ï¼ŒQtå¯¹C++è¿›è¡Œäº†æ‹“å±•ï¼Œè¿™æ˜¯å®ƒç‹¬æœ‰çš„å…³é”®å­—ã€‚

  æ­¤ç¤ºä¾‹ä¸­å®šä¹‰äº†ä¸¤ä¸ªpublicçš„ä¿¡å·ï¼š

  - å½“ç”¨æˆ·ç‚¹å‡»äº† Find æŒ‰é’®ï¼Œå¹¶ä¸”é€‰ä¸­äº† Search backwardï¼Œå°±ä¼šå‘å‡º findPrevious()
  - å¦åˆ™å‘å‡º findNext()

- private slotsï¼š

  å®šä¹‰äº†ä¸¤ä¸ªç§æœ‰çš„æ§½



FindDialog.cppå¦‚ä¸‹ï¼š

```C++
#include<QtGui>
#include<QLabel>
#include<QLineEdit>
#include<QCheckBox>
#include<QPushButton>
#include<QHBoxLayout>

#include "FindDialog.h"

FindDialog::FindDialog(QWidget* parent)
    :QDialog(parent)
{
    this->label = new QLabel(tr("Find &what:"));
    this->lineEdit = new QLineEdit();
    label->setBuddy(lineEdit);

    this->caseCheckBox = new QCheckBox(tr("Match &case"));
    this->backwardCheckBox = new QCheckBox(tr("Search &backford"));

    this->findButton = new QPushButton(tr("&Find"));
    findButton->setDefault(true);
    findButton->setEnabled(false);

    this->closeButton = new QPushButton(tr("close"));

    connect(lineEdit,SIGNAL(textChanged(const QString&)),
            this,SLOT(enableFindButton(const QString&)));
    connect(findButton,SIGNAL(clicked()),this,SLOT(findClicked()));
    connect(closeButton,SIGNAL(clicked()),this,SLOT(close()));

    QHBoxLayout* topLeftLayout = new QHBoxLayout;
    topLeftLayout->addWidget(label);
    topLeftLayout->addWidget(lineEdit);

    QVBoxLayout* leftLayout = new QVBoxLayout;
    leftLayout->addLayout(topLeftLayout);
    leftLayout->addWidget(caseCheckBox);
    leftLayout->addWidget(backwardCheckBox);

    QVBoxLayout* rightLayout = new QVBoxLayout;
    rightLayout->addWidget(findButton);
    rightLayout->addWidget(closeButton);
    rightLayout->addStretch();

    QHBoxLayout* mainLayout = new QHBoxLayout;
    mainLayout->addLayout(leftLayout);
    mainLayout->addLayout(rightLayout);

    this->setWindowTitle(tr("Find"));
    this->setLayout(mainLayout);
    this->setFixedHeight(sizeHint().height());
}

FindDialog::~FindDialog(){

}

void FindDialog::findClicked(){
    QString text = lineEdit->text();
    Qt::CaseSensitivity cs = caseCheckBox->isChecked()?
                Qt::CaseInsensitive:
                Qt::CaseSensitive;

    if(backwardCheckBox->isChecked()){
        emit findPrevious(text,cs);
    }else{
        emit findNext(text,cs);
    }
}

void FindDialog::enableFindButton(const QString& text){
    findButton->setEnabled(!text.isEmpty());
}
```

è¯´æ˜ï¼š

- tr()

  å…¨åæ˜¯ QObject::tr()ï¼Œè¢«å®ƒå¤„ç†çš„å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨å·¥å…·æå–å‡ºæ¥ç¿»è¯‘æˆå…¶ä»–è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯åš<u>å›½é™…åŒ–ä½¿ç”¨</u>ã€‚

  >æ‰€æœ‰ä½¿ç”¨äº† Q_OBJECT å®çš„ç±»éƒ½è‡ªåŠ¨å…·æœ‰ tr()å‡½æ•°

- å­—ç¬¦ä¸²ä¸­çš„&ä»£è¡¨å¿«æ·é”®ï¼ŒæŒ‰ä¸‹å¿«æ·é”®åè¯¥å…ƒç´ è·å–ç„¦ç‚¹ï¼š

  - QLabelçš„å¿«æ·é”®ï¼šAlt+W
  - QButtonçš„å¿«æ·é”®ï¼šAlt+F

- setBuddy()å‡½æ•°ï¼š

  `label->setBuddy(lineEdit);`ï¼Œæ„å‘³ç€å½“labelè·å–ç„¦ç‚¹æ—¶ï¼Œå®ƒçš„ç„¦ç‚¹ä¼šè‡ªåŠ¨ä¼ é€’ç»™å®ƒçš„buddyï¼ˆä¼™ä¼´ï¼‰lineEdit

- å…³äºå¸ƒå±€ï¼š

  ![img](æ¡ˆä¾‹.assets/14.png)

- setFixedHeight()ï¼š

  è®¾ç½®æˆå›ºå®šçš„é«˜åº¦ï¼Œå…¶å‚æ•°å€¼ sizeHint()è¿”å›â€œæœ€ç†æƒ³â€çš„å¤§å°ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ height()å‡½æ•°å»åˆ°â€œæœ€ç†æƒ³â€çš„é«˜åº¦ã€‚

  

- è¯´æ˜findClicked()å‡½æ•°ï¼š

  é¦–å…ˆå–å‡º lineEditçš„è¾“å…¥å€¼ï¼›ç„¶ååˆ¤æ–­ caseCheckBoxæ˜¯ä¸æ˜¯é€‰ä¸­ï¼Œå¦‚æœé€‰ä¸­å°±è¿”å› Qt::CaseInsensitiveï¼Œå¦åˆ™è¿”å› Qt::CaseSensitiveï¼Œç”¨äºåˆ¤æ–­æ˜¯ä¸æ˜¯å¤§å°å†™æ•æ„Ÿçš„æŸ¥æ‰¾ï¼›æœ€åï¼Œå¦‚æœ backwardCheckBoxè¢«é€‰ä¸­ï¼Œå°± emit(å‘å‡º)ä¿¡å· findPrevious()ï¼Œå¦åˆ™ emitä¿¡å· findNextã€‚



main.cppï¼š

```C++
#include <QApplication>

#include "FindDialog.h"

int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    FindDialog* dialog = new FindDialog;
    dialog->show();
    return a.exec();
}
```

